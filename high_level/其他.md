### IO多路复用

<img width="689" alt="image" src="https://user-images.githubusercontent.com/12492564/153019961-f0f6899d-f03e-4d75-9f2c-238ba6550d67.png">

服务器端采用单线程通过 select/poll/epoll 等系统调用获取 fd 列表，遍历有事件的 fd 进行 accept/recv/send ，使其能支持更多的并发连接请求。

select：单个进程所打开的fd数量是有限制的。每次调用 select，都需要把 fd 集合从用户态拷贝到内核态。仅仅知道有I/O事件发生了，却并不知道是哪那几个流，只能无差别轮询所有流。

poll：它没有最大连接数的限制，原因是它是基于链表来存储的。其他跟select一样。

epoll：epoll会把哪个流发生了怎样的I/O事件通知我们，所以说epoll是事件驱动。并且epoll使用mmap减少复制开销。没有最大并发连接的限制。最大的优点就在于它只管你“活跃”的连接，而跟连接总数无关，因此在实际的网络环境中，epoll的效率就会远远高于select和poll。
